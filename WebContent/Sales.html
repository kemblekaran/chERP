<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Sales</title>
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
	integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
	crossorigin="anonymous">
<link rel="stylesheet"
	href="https://cdn.datatables.net/1.10.15/css/jquery.dataTables.min.css">
<link href="https://fonts.googleapis.com/css?family=Baloo+Bhaijaan"
	rel="stylesheet">
<link rel="stylesheet" href="css/index.css">
<link rel="stylesheet" href="validate.css">
<script src="https://www.w3schools.com/lib/w3.js"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.js"></script>

<script>
	//set current date to purchase using datepicker
	$(function() {
		$("#salesDate").datepicker({
			// 			dateFormat : 'dd/mm/yy',
			showAnim : 'drop',
			showButtonPanel : true,
		}).datepicker('setDate', 'today');
	});
</script>
<!-- datepicker scripts -->
<link rel="stylesheet"
	href="http://code.jquery.com/ui/1.9.1/themes/blitzer/jquery-ui.css">
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

</head>
<body>
	<div w3-include-html="main.html"></div>

	<!-- main container -->
	<div class="container-fluid" id="mainContainer">
		<div class="jumbotron">
			<form id="SalesForm">
				<input type="hidden" id="actionURL" value="SalesServlet">
				<div class="row well">

					<div class="col-md-3">
						<div class="form-group">
							<div class="col-sm-5">
								<label for="salesDate">Sales Date</label>
							</div>
							<div class="col-sm-7">
								<input type="text" name="salesDate" class="form-control"
									id="salesDate">
							</div>
						</div>
					</div>

					<div class="col-md-4 col-md-offset-1">
						<div class="form-group">
							<div class="col-sm-1">
								<label for="van">Van</label>
							</div>
							<div class="col-sm-7">
								<select class="form-control" id="van" name="van">
									<option selected="true" disabled="disabled">Select Van</option>
								</select>
							</div>
						</div>
					</div>



					<div class="col-md-4">
						<div class="form-group">
							<div class="col-sm-3">
								<label for="purchaseId">Purchase Id</label>
							</div>
							<div class="col-sm-7">
								<input type="text" id="purchaseId" name="purchaseId" readonly
									class="form-control">
							</div>
						</div>
					</div>

				</div>


				<div class="row" id="tableRow">
					<h4>Purchase</h4>
					<table id="salesTable"
						class="table-bordered responsive stripe hover">
						<thead style="background-color: #4a4b4c; color: #fff">
							<tr>
								<th>Purchase Id</th>
								<th>Date</th>
								<th>Company Name</th>
								<th>Location</th>
								<th>Product</th>
								<th>Pieces</th>
								<th>KG</th>
								<th>Rate</th>
								<th>Amount</th>
								<th>Avg Weight</th>
								<th>Bal Pieces</th>
								<th>Bal Kg</th>
							</tr>
						</thead>
					</table>
				</div>

				<!-- For fetching total no of pieces from salesTable -->
				<!-- 				<div class="row well"> -->
				<!-- 					<div class="col-md-4"> -->
				<!-- 						<div class="form-group"> -->
				<!-- 							<div class="col-sm-2"> -->
				<!-- 								<label for="eggs">Eggs :</label> -->
				<!-- 							</div> -->
				<!-- 							<div class="col-sm-8"> -->
				<!-- 								<input type="text" id="eggs" class="form-control" name="eggs"> -->
				<!-- 							</div> -->
				<!-- 						</div> -->
				<!-- 					</div> -->

				<!-- 					<div class="col-md-4"> -->
				<!-- 						<div class="form-group"> -->
				<!-- 							<div class="col-sm-3"> -->
				<!-- 								<label for="chicken">Chicken :</label> -->
				<!-- 							</div> -->
				<!-- 							<div class="col-sm-8"> -->
				<!-- 								<input type="text" id="chicken" class="form-control" -->
				<!-- 									name="chicken"> -->
				<!-- 							</div> -->
				<!-- 						</div> -->
				<!-- 					</div> -->

				<!-- 					<div class="col-md-4"> -->
				<!-- 						<div class="form-group"> -->
				<!-- 							<div class="col-sm-3"> -->
				<!-- 								<label for="broiler"> Broiler :</label> -->
				<!-- 							</div> -->
				<!-- 							<div class="col-sm-7"> -->
				<!-- 								<input type="text" id="broiler" class="form-control" -->
				<!-- 									name="broiler"> -->
				<!-- 							</div> -->
				<!-- 						</div> -->
				<!-- 					</div> -->

				<!-- 				</div> -->

				<br>

				<div class="row well">
					<div class="col-md-6">
						<h3 style="color:#5a5b5c">
							Total Pieces and Kg remaining in <span id="target" style="color:#1a1b1c"></span> van
						</h3>
						
						<div class="form-inline row">
							<div class="col-sm-3">
								<label for="totalPieces"> Total Pieces:</label>
							</div>
							<div class="col-sm-7">
								<input type="text" name="totalPieces" id="totalPieces"
									class="form-control" >
							</div>
						</div><br>
						<div class="form-inline row">
							<div class="col-sm-3">
								<label for="totalKgs"> Total Kg:</label>
							</div>
							<div class="col-sm-7">
								<input type="text" name="totalKgs" id="totalKgs"
									class="form-control">
							</div>
						</div>
					</div>
<!-- 					<div class="col-md-2"> -->
<!-- 						<br> <br> -->
<!-- 						<button id="getTotalPieces" class="btn btn-danger">Get -->
<!-- 							Total Pieces</button> -->
<!-- 					</div> -->



					<div class="col-md-6 ">
						<table class="table  table-bordered">
							<thead>
								<tr class="info">
									<th>#</th>
									<th><label>Pieces</label></th>
									<th><label>KG</label></th>
								</tr>
							</thead>
							<tbody>
								<tr class="active">
									<th class="text-danger">Balance Qty</th>
									<td><input type="text" id="balanceQtyPieces"
										class="form-control" readonly></td>
									<td><input type="text" id="balanceQtyKg"
										class="form-control" readonly></td>
								</tr>
								<tr class="active">
									<th class="text-success">Sales Qty</th>
									<td><input type="text" id="salesQtyPieces"
										name="salesQtyPieces" class="form-control" readonly></td>
									<td><input type="text" id="salesQtyKg" name="salesQtyKg"
										class="form-control" readonly></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>

				<!-- 				sales date -->




				<!-- Table for Product  -->
				<h4>Sales</h4>
				<table id="salesReadyTable">
					<thead>
						<tr>
							<th>Invoice No</th>
							<th>Customer Name</th>
							<th>Product</th>
							<th>Pieces</th>
							<th>KG</th>
							<th>Rate</th>
							<th>Amount</th>
							<th>Average Weight</th>
						</tr>
					</thead>
					<tbody>

						<tr>
							<td><input type="text" name="invoiceNo" id="invoiceNo"
								class="form-control" readonly></td>

							<td><select id="customerSelect" name="customer"
								class="form-control" style="width:160px;">
									<option selected="true" disabled="disabled">Select Customer</option>
							</select></td>

							<td><input type="text" id="salesProduct" name="product"
								class="form-control" readonly></td>

							<td><input type="text" name="pieces" id="salesPieces"
								class="form-control"></td>

							<td><input type="text" name="kg" id="salesKg"
								class="form-control"></td>

							<td><input type="text" name="rate" id="salesRate"
								class="form-control"></td>

							<td><input type="text" name="amount" id="salesAmount"
								class="form-control" readonly></td>

							<td><input type="text" name="avgWeight" id="salesAvgWeight"
								class="form-control" readonly></td>
						</tr>

					</tbody>

				</table>
				<input type="hidden" name="operation" value="insert">

				<!-- input type for sending product json as form value -->
				<input type="hidden" name="productJson" id="productJson">

				<!-- input type for sending salesLoad json as form value -->
				<input type="hidden" name="salesLoadJson" id="salesLoadJson">

				<!-- input type for sending companyName for purchase table update as form value -->
				<input type="hidden" name="companyName" id="companyName">

				<button id="insertBtn" class="btn btn-primary">Save</button>
			</form>
		</div>
	</div>

	<!-- 	scripts -->
	<script>
		w3.includeHTML();
	</script>
	<!-- 	<script src="http://code.jquery.com/jquery-3.2.1.min.js" -->
	<!-- 		integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" -->
	<!-- 		crossorigin="anonymous"></script> -->
	<script
		src="https://cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js"></script>
	<!-- 	<script -->
	<!-- 		src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" -->
	<!-- 		integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" -->
	<!-- 		crossorigin="anonymous"></script> -->
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.17.0/jquery.validate.min.js"></script>
	<script src="validation/validateSales.js"></script>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.12/jquery.mask.min.js"></script>
	<script type="text/javascript"
		src="https://cdn.datatables.net/plug-ins/1.10.16/api/fnFindCellRowIndexes.js"></script>
	<script
		src="https://cdn.datatables.net/select/1.2.2/js/dataTables.select.min.js"></script>
	<script type="text/javascript" src="js/dataentry/sales.js"></script>
	<script type="text/javascript">
		//datatable for salesReady
		var salesReadyTable = $('#salesReadyTable').DataTable();

		//add data to datatable(very important)
		var salesReady = $('#salesTable').DataTable({
			// 			"ajax" : "/server/jsonfiles/salesTable.json",

			"columnDefs" : [ {
				"className" : "dt-center",
				"targets" : "_all"
			} ],

			select : true,
		// 			"columns" : [ {
		// 				"data" : "purchaseId"
		// 			}, {
		// 				"data" : "date"
		// 			}, {
		// 				"data" : "company"
		// 			}, {
		// 				"data" : "location"
		// 			}, {
		// 				"data" : "product"
		// 			}, {
		// 				"data" : "pieces"
		// 			}, {
		// 				"data" : "kg"
		// 			}, {
		// 				"data" : "rate"
		// 			}, {
		// 				"data" : "amount"
		// 			}, {
		// 				"data" : "avgWeight"
		// 			}, {
		// 				"data" : "balancePieces"
		// 			}, {
		// 				"data" : "balanceKG"
		// 			} ]
		});
	</script>

</body>
</html>